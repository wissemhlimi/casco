(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[99],{1311:function(e,n,r){"use strict";r.r(n);var t=r(0),a=r(198),i=r(11),l=r(1275),o=r(666),c=r(212),u=r(1264),s=r(213),d=r(2),m=r(622),b=r(45),f=r(106),h=r(3),j=r(23),g=r(42),p=r(803),x=r(804),O=r(828),v=r(805),y=r(138),q=r(182),w=r(183);function M(){var e=Object(q.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  margin-top: 24px;\n\n  img {\n    margin-right: 8px;\n    cursor: pointer;\n  }\n"]);return M=function(){return e},e}var k=w.a.div(M()),C=function(e){return Object(i.jsx)(k,{children:Object(h.c)().map((function(e){return Object(i.jsx)("img",{alt:e.label,title:e.label,src:e.flag,onClick:function(){return y.a.doChangeLanguage(e.id)}},e.id)}))})},Y=r(633),E=r(641),S=r(46),z=r(646);function D(){var e=Object(q.a)(["\n  display: flex;\n  justify-content: center;\n\n  .anticon {\n    margin-left: 16px;\n    margin-right: 16px;\n    font-size: 36px;\n    cursor: pointer;\n  }\n"]);return D=function(){return e},e}var A=w.a.div(D()),B=r(1330),I=r(1331),V=r(43),F=r(37),T=r(837),U=r.n(T),L=r(12),P=S.e().shape({email:E.a.string(Object(h.d)("user.fields.email"),{required:!0}),password:E.a.string(Object(h.d)("user.fields.password"),{required:!0}),rememberMe:E.a.boolean(Object(h.d)("user.fields.rememberMe"))});n.default=function(e){var n=Object(F.g)(),r=Object(b.d)(),y=Object(b.e)(g.a.selectLoading),q=U.a.parse(n.search).socialErrorCode,w=Object(b.e)(g.a.selectErrorMessage),M=Object(b.e)(g.a.selectBackgroundImageUrl),k=Object(b.e)(g.a.selectLogoUrl),E=function(){r(j.a.doClearErrorMessage())};Object(d.useEffect)((function(){E(),T.register({name:"rememberMe"})}),[]),Object(d.useEffect)((function(){q&&("generic"===q?L.a.error(Object(h.d)("errors.defaultErrorMessage")):L.a.error(Object(h.d)("auth.social.errors.".concat(q))))}),[]);var S=Object(d.useState)({email:"",password:"",rememberMe:!0}),D=Object(a.a)(S,1)[0],T=Object(m.c)({resolver:Object(z.yupResolver)(P),mode:"onSubmit",defaultValues:D});return Object(i.jsx)(v.a,{style:{backgroundImage:"url(".concat(M||"/images/signin.jpg",")")},children:Object(i.jsxs)(p.a,{children:[Object(i.jsx)(x.a,{children:k?Object(i.jsx)("img",{src:k,width:"240px",alt:Object(h.d)("app.title")}):Object(i.jsx)("h1",{children:Object(h.d)("app.title")})}),Object(i.jsx)(m.a,Object(t.a)(Object(t.a)({},T),{},{children:Object(i.jsxs)("form",{onSubmit:T.handleSubmit((function(e){var n=e.email,t=e.password,a=e.rememberMe;r(j.a.doSigninWithEmailAndPassword(n,t,a))})),children:[Object(i.jsx)(Y.a,{name:"email",placeholder:Object(h.d)("user.fields.email"),autoComplete:"email",size:"large",autoFocus:!0,layout:null,onChange:function(){w&&E()},externalErrorMessage:w}),Object(i.jsx)(Y.a,{name:"password",placeholder:Object(h.d)("user.fields.password"),autoComplete:"password",type:"password",size:"large",layout:null}),Object(i.jsxs)(l.a.Item,{children:[Object(i.jsx)(o.a,{checked:T.watch("rememberMe"),onChange:function(e){return T.setValue("rememberMe",e.target.checked)},type:"checkbox",children:Object(h.d)("user.fields.rememberMe")}),Object(i.jsx)(f.a,{style:{float:"right"},to:"/auth/forgot-password",children:Object(h.d)("auth.forgotPassword")})]}),Object(i.jsx)(c.a,{type:"primary",size:"large",block:!0,htmlType:"submit",loading:y,children:Object(h.d)("auth.signin")}),Object(i.jsx)(u.a,{style:{color:"white",margin:"24px 0"},children:Object(h.d)("common.or")}),Object(i.jsxs)(A,{children:[Object(i.jsx)(s.a,{placement:"top",title:"Facebook",children:Object(i.jsx)("a",{href:"".concat(V.a.backendUrl,"/auth/social/facebook"),children:Object(i.jsx)(B.a,{style:{color:"#3B5998"}})})}),Object(i.jsx)(s.a,{placement:"top",title:"Google",children:Object(i.jsx)("a",{href:"".concat(V.a.backendUrl,"/auth/social/google"),children:Object(i.jsx)(I.a,{type:"google",style:{color:"#DB4437"}})})})]}),Object(i.jsx)(O.a,{children:Object(i.jsx)(f.a,{to:"/auth/signup",children:Object(h.d)("auth.createAnAccount")})}),Object(i.jsx)(C,{style:{marginTop:"24px"}})]})}))]})})}},626:function(e,n,r){"use strict";r.d(n,"a",(function(){return i}));var t=r(14),a=r(15),i=function(){function e(){Object(t.a)(this,e)}return Object(a.a)(e,null,[{key:"errorMessage",value:function(e,n,r,t){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i)return i;if(!t&&!r[e])return null;var l=n[e];return(null===l||void 0===l||null===(a=l[0])||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)||l||null}}]),e}()},633:function(e,n,r){"use strict";var t=r(0),a=r(11),i=r(1275),l=r(1278),o=r(622),c=r(2),u=r(626),s=function(e){var n=e.label,r=e.name,s=e.hint,d=e.layout,m=e.size,b=e.type,f=e.placeholder,h=e.autoFocus,j=e.autoComplete,g=e.prefix,p=e.externalErrorMessage,x=e.required,O=e.addonAfter,v=Object(o.d)(),y=v.setValue,q=v.watch,w=v.register,M=v.errors,k=v.formState,C=k.touched,Y=k.isSubmitted;Object(c.useEffect)((function(){w({name:r})}),[w,r]);var E=u.a.errorMessage(r,M,C,Y,p);return Object(a.jsx)(i.a.Item,Object(t.a)(Object(t.a)({},d),{},{label:n,required:x,validateStatus:E?"error":"success",help:E||s,children:Object(a.jsx)(l.a,{id:r,name:r,type:b,value:q(r),onChange:function(n){y(r,n.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n.target.value)},onBlur:function(n){e.onBlur&&e.onBlur(n)},size:m||void 0,placeholder:f||void 0,autoFocus:h||!1,autoComplete:j||void 0,prefix:g||void 0,addonAfter:O||void 0})}))};s.defaultProps={layout:null,type:"text",required:!1},n.a=s},641:function(e,n,r){"use strict";var t=r(52),a=r(46),i=r(3),l=r(108),o=r.n(l),c={generic:e=>a.c().label(e),string(e,n){n=n||{};var r=a.h().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e);return n.required&&(r=r.required()),(n.min||0===n.min)&&(r=r.min(n.min)),n.max&&(r=r.max(n.max)),n.matches&&(r=r.matches(n.matches)),r},boolean:(e,n)=>a.b().default(!1).label(e),relationToOne(e,n){n=n||{};var r=a.c().nullable(!0).label(e).transform((function(e,n){return n?n.id:null}));return n.required&&(r=r.required()),r},stringArray(e,n){n=n||{};var r=a.a().compact().ensure().of(a.h().transform((function(e,n){return""===n?null:e})).trim()).label(e);return n.required&&(r=r.required()),n.min||0===n.min?r=r.min(n.min):n.required&&(r=r.min(1)),n.max&&(r=r.max(n.max)),r},relationToMany(e,n){n=n||{};var r=a.a().nullable(!0).label(e).transform((function(e,n){return n&&n.length?n.map((function(e){return e.id})):[]}));return n.required&&(r=r.required()),n.min||0===n.min?r=r.min(n.min):n.required&&(r=r.min(1)),n.max&&(r=r.max(n.max)),r},integer(e,n){n=n||{};var r=a.d().transform((function(e,n){return""===n?null:e})).integer().nullable(!0).label(e);return n.required&&(r=r.required()),(n.min||0===n.min)&&(r=r.min(n.min)),n.max&&(r=r.max(n.max)),r},images(e,n){n=n||{};var r=a.a().nullable(!0).label(e);return(n.required||n.min)&&(r=r.required()),n.min||0===n.min?r=r.min(n.min):n.required&&(r=r.min(1)),n.max&&(r=r.max(n.max)),r},files(e,n){n=n||{};var r=a.a().compact().ensure().nullable(!0).label(e);return(n.required||n.min)&&(r=r.required()),n.min||0===n.min?r=r.min(n.min):n.required&&(r=r.min(1)),n.max&&(r=r.max(n.max)),r},enumerator(e,n){n=n||{};var r=a.h().transform((function(e,n){return""===n?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(t.a)(n.options||[])));return n.required&&(r=r.required(Object(i.d)("validation.string.selected"))),r},email(e,n){n=n||{};var r=a.h().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e).email();return n.required&&(r=r.required()),(n.min||0===n.min)&&(r=r.min(n.min)),n.max&&(r=r.max(n.max)),n.matches&&(r=r.matches(n.matches)),r},decimal(e,n){n=n||{};var r=a.d().transform((function(e,n){return""===n?null:e})).nullable(!0).label(e);return n.required&&(r=r.required()),(n.min||0===n.min)&&(r=r.min(n.min)),n.max&&(r=r.max(n.max)),r},datetime(e,n){n=n||{};var r=a.c().nullable(!0).label(e).transform((function(e,n){return e?o()(n,"YYYY-MM-DD HH:mm").toISOString():null}));return n.required&&(r=r.required()),r},date(e,n){n=n||{};var r=a.c().nullable(!0).label(e).test("is-date",Object(i.d)("validation.mixed.default"),(function(e){return!e||o()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?o()(e).format("YYYY-MM-DD"):null}));return n.required&&(r=r.required()),r}};n.a=c},803:function(e,n,r){"use strict";var t=r(182);function a(){var e=Object(t.a)(["\n  width: 500px;\n  height: 100%;\n  min-height: 100%;\n  overflow-y: auto;\n  z-index: 1;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  padding: 56px 40px;\n  position: relative;\n  background-color: rgba(0, 0, 0, 0.8);\n  color: white;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: white;\n  }\n\n  .ant-checkbox-wrapper {\n    color: white;\n  }\n\n  @media only screen and (max-width: 767px) {\n    width: 100%;\n  }\n"]);return a=function(){return e},e}var i=r(183).a.div(a());n.a=i},804:function(e,n,r){"use strict";var t=r(182);function a(){var e=Object(t.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 48px;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n  color: white;\n\n  h1 {\n    margin-bottom: 0;\n  }\n"]);return a=function(){return e},e}var i=r(183).a.div(a());n.a=i},805:function(e,n,r){"use strict";var t=r(182);function a(){var e=Object(t.a)(["\n  width: 100%;\n  min-height: 100vh;\n  height: 100vh;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  position: relative;\n  background-size: cover;\n\n  &:before {\n    content: '';\n    width: 100%;\n    height: 100%;\n    display: flex;\n    background-color: rgba(0, 0, 0, 0.5);\n    position: absolute;\n    z-index: 1;\n    top: 0;\n  }\n"]);return a=function(){return e},e}var i=r(183).a.div(a());n.a=i},828:function(e,n,r){"use strict";var t=r(182);function a(){var e=Object(t.a)(["\n  margin-top: 36px;\n  text-align: center;\n"]);return a=function(){return e},e}var i=r(183).a.div(a());n.a=i}}]);